{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"unsupported charset \"UTF-8\"unsupported charset \"UTF-8\"","charset":"utf-8","type":"charset.unsupported","level":"error","stack":"UnsupportedMediaTypeError: unsupported charset \"UTF-8\"\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/body-parser/lib/read.js:83:18\n    at invokeCallback (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/raw-body/index.js:224:16)\n    at _combinedTickCallback (internal/process/next_tick.js:132:7)\n    at process._tickCallback (internal/process/next_tick.js:181:9)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"unsupported charset \"UTF-8\"unsupported charset \"UTF-8\"","charset":"utf-8","type":"charset.unsupported","level":"error","stack":"UnsupportedMediaTypeError: unsupported charset \"UTF-8\"\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/body-parser/lib/read.js:83:18\n    at invokeCallback (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/raw-body/index.js:224:16)\n    at _combinedTickCallback (internal/process/next_tick.js:132:7)\n    at process._tickCallback (internal/process/next_tick.js:181:9)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Listening on port 3000...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Movie is not definedMovie is not defined","stack":"ReferenceError: Movie is not defined\n    at Movie (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:31:3)\n    at <anonymous>"}
{"level":"error","message":"Movie is not definedMovie is not defined","stack":"ReferenceError: Movie is not defined\n    at Movie (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:31:3)\n    at <anonymous>"}
{"level":"error","message":"Movie is not definedMovie is not defined","stack":"ReferenceError: Movie is not defined\n    at Movie (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:31:3)\n    at <anonymous>"}
{"level":"error","message":"Movie is not definedMovie is not defined","stack":"ReferenceError: Movie is not defined\n    at Movie (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:31:3)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Movie is not definedMovie is not defined","stack":"ReferenceError: Movie is not defined\n    at Movie (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:31:3)\n    at <anonymous>"}
{"level":"error","message":"Movie is not definedMovie is not defined","stack":"ReferenceError: Movie is not defined\n    at Movie (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:31:3)\n    at <anonymous>"}
{"level":"error","message":"Movie is not definedMovie is not defined","stack":"ReferenceError: Movie is not defined\n    at Movie (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:31:3)\n    at <anonymous>"}
{"level":"error","message":"Movie is not definedMovie is not defined","stack":"ReferenceError: Movie is not defined\n    at Movie (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:31:3)\n    at <anonymous>"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"Movie is not definedMovie is not defined","stack":"ReferenceError: Movie is not defined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:31:3)\n    at <anonymous>"}
{"level":"error","message":"Movie is not definedMovie is not defined","stack":"ReferenceError: Movie is not defined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:31:3)\n    at <anonymous>"}
{"level":"error","message":"Movie is not definedMovie is not defined","stack":"ReferenceError: Movie is not defined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:31:3)\n    at <anonymous>"}
{"level":"error","message":"Movie is not definedMovie is not defined","stack":"ReferenceError: Movie is not defined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:31:3)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Movie is not definedMovie is not defined","stack":"ReferenceError: Movie is not defined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:31:3)\n    at <anonymous>"}
{"level":"error","message":"Movie is not definedMovie is not defined","stack":"ReferenceError: Movie is not defined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:31:3)\n    at <anonymous>"}
{"level":"error","message":"Movie is not definedMovie is not defined","stack":"ReferenceError: Movie is not defined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:31:3)\n    at <anonymous>"}
{"level":"error","message":"Movie is not definedMovie is not defined","stack":"ReferenceError: Movie is not defined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:31:3)\n    at <anonymous>"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"validate is not definedvalidate is not defined","stack":"ReferenceError: validate is not defined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:11:14)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"validate is not definedvalidate is not defined","stack":"ReferenceError: validate is not defined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:11:14)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"validate is not definedvalidate is not defined","stack":"ReferenceError: validate is not defined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:11:14)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"validate is not definedvalidate is not defined","stack":"ReferenceError: validate is not defined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:11:14)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"validate is not definedvalidate is not defined","stack":"ReferenceError: validate is not defined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:11:14)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"validate is not definedvalidate is not defined","stack":"ReferenceError: validate is not defined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:11:14)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"validate is not definedvalidate is not defined","stack":"ReferenceError: validate is not defined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:11:14)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"validate is not definedvalidate is not defined","stack":"ReferenceError: validate is not defined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:11:14)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"validate is not definedvalidate is not defined","stack":"ReferenceError: validate is not defined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:11:14)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"values is not definedvalues is not defined","stack":"ReferenceError: values is not defined\n    at values (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:42:23)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:11:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"values is not definedvalues is not defined","stack":"ReferenceError: values is not defined\n    at values (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:42:23)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:11:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"values is not definedvalues is not defined","stack":"ReferenceError: values is not defined\n    at values (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:42:23)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:11:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"values is not definedvalues is not defined","stack":"ReferenceError: values is not defined\n    at values (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:42:23)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:11:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"values is not definedvalues is not defined","stack":"ReferenceError: values is not defined\n    at values (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:42:23)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:11:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"values is not definedvalues is not defined","stack":"ReferenceError: values is not defined\n    at values (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:42:23)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:11:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"values is not definedvalues is not defined","stack":"ReferenceError: values is not defined\n    at values (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:42:23)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:11:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"values is not definedvalues is not defined","stack":"ReferenceError: values is not defined\n    at values (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:42:23)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:11:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"values is not definedvalues is not defined","stack":"ReferenceError: values is not defined\n    at values (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:42:23)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:11:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Joi is not definedJoi is not defined","stack":"ReferenceError: Joi is not defined\n    at Joi (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:38:17)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:10:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Joi is not definedJoi is not defined","stack":"ReferenceError: Joi is not defined\n    at Joi (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:38:17)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:10:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi is not definedJoi is not defined","stack":"ReferenceError: Joi is not defined\n    at Joi (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:38:17)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:10:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi is not definedJoi is not defined","stack":"ReferenceError: Joi is not defined\n    at Joi (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:38:17)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:10:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi is not definedJoi is not defined","stack":"ReferenceError: Joi is not defined\n    at Joi (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:38:17)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:10:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi is not definedJoi is not defined","stack":"ReferenceError: Joi is not defined\n    at Joi (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:38:17)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:10:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi is not definedJoi is not defined","stack":"ReferenceError: Joi is not defined\n    at Joi (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:38:17)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:10:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi is not definedJoi is not defined","stack":"ReferenceError: Joi is not defined\n    at Joi (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:38:17)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:10:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi is not definedJoi is not defined","stack":"ReferenceError: Joi is not defined\n    at Joi (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:38:17)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:10:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"validateReturn is not definedvalidateReturn is not defined","stack":"ReferenceError: validateReturn is not defined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:11:14)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"validateReturn is not definedvalidateReturn is not defined","stack":"ReferenceError: validateReturn is not defined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:11:14)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"validateReturn is not definedvalidateReturn is not defined","stack":"ReferenceError: validateReturn is not defined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:11:14)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"validateReturn is not definedvalidateReturn is not defined","stack":"ReferenceError: validateReturn is not defined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:11:14)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"validateReturn is not definedvalidateReturn is not defined","stack":"ReferenceError: validateReturn is not defined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:11:14)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"validateReturn is not definedvalidateReturn is not defined","stack":"ReferenceError: validateReturn is not defined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:11:14)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"validateReturn is not definedvalidateReturn is not defined","stack":"ReferenceError: validateReturn is not defined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:11:14)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"validateReturn is not definedvalidateReturn is not defined","stack":"ReferenceError: validateReturn is not defined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:11:14)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"validateReturn is not definedvalidateReturn is not defined","stack":"ReferenceError: validateReturn is not defined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:11:14)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property '0' of undefinedCannot read property '0' of undefined","stack":"TypeError: Cannot read property '0' of undefined\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:42)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Joi is not definedJoi is not defined","stack":"ReferenceError: Joi is not defined\n    at Joi (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:38:17)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:10:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi is not definedJoi is not defined","stack":"ReferenceError: Joi is not defined\n    at Joi (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:38:17)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:10:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi is not definedJoi is not defined","stack":"ReferenceError: Joi is not defined\n    at Joi (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:38:17)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:10:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi is not definedJoi is not defined","stack":"ReferenceError: Joi is not defined\n    at Joi (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:38:17)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:10:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi is not definedJoi is not defined","stack":"ReferenceError: Joi is not defined\n    at Joi (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:38:17)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:10:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi is not definedJoi is not defined","stack":"ReferenceError: Joi is not defined\n    at Joi (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:38:17)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:10:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi is not definedJoi is not defined","stack":"ReferenceError: Joi is not defined\n    at Joi (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:38:17)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:10:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"Joi is not definedJoi is not defined","stack":"ReferenceError: Joi is not defined\n    at Joi (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:38:17)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:10:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi is not definedJoi is not defined","stack":"ReferenceError: Joi is not defined\n    at Joi (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:38:17)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:10:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Joi is not definedJoi is not defined","stack":"ReferenceError: Joi is not defined\n    at Joi (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:38:17)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:10:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi is not definedJoi is not defined","stack":"ReferenceError: Joi is not defined\n    at Joi (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:38:17)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:10:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi is not definedJoi is not defined","stack":"ReferenceError: Joi is not defined\n    at Joi (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:38:17)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:10:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi is not definedJoi is not defined","stack":"ReferenceError: Joi is not defined\n    at Joi (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:38:17)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:10:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi is not definedJoi is not defined","stack":"ReferenceError: Joi is not defined\n    at Joi (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:38:17)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:10:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"Joi is not definedJoi is not defined","stack":"ReferenceError: Joi is not defined\n    at Joi (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:38:17)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:10:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi is not definedJoi is not defined","stack":"ReferenceError: Joi is not defined\n    at Joi (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:38:17)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:10:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi is not definedJoi is not defined","stack":"ReferenceError: Joi is not defined\n    at Joi (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:38:17)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:10:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"level":"error","message":"Joi is not definedJoi is not defined","stack":"ReferenceError: Joi is not defined\n    at Joi (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:38:17)\n    at validateReturn (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:10:17)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:15:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property 'details' of nullCannot read property 'details' of null","stack":"TypeError: Cannot read property 'details' of null\n    at details (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:49)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property 'details' of nullCannot read property 'details' of null","stack":"TypeError: Cannot read property 'details' of null\n    at details (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:49)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property 'details' of nullCannot read property 'details' of null","stack":"TypeError: Cannot read property 'details' of null\n    at details (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:49)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Cannot read property 'details' of nullCannot read property 'details' of null","stack":"TypeError: Cannot read property 'details' of null\n    at details (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:49)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Cannot read property 'details' of nullCannot read property 'details' of null","stack":"TypeError: Cannot read property 'details' of null\n    at details (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:49)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property 'details' of nullCannot read property 'details' of null","stack":"TypeError: Cannot read property 'details' of null\n    at details (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:49)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Cannot read property 'details' of nullCannot read property 'details' of null","stack":"TypeError: Cannot read property 'details' of null\n    at details (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:12:49)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"level":"error","message":"customerId is not definedcustomerId is not defined","stack":"ReferenceError: customerId is not defined\n    at customerId (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:16:21)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/middleware/auth.js:13:5)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/route.js:112:3)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:47:12)\n    at newFn (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express-async-errors/index.js:16:20)\n    at Layer.handle [as handle_request] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:317:13)\n    at /home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/router/index.js:275:10)"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Cast to ObjectId failed for value \"\" at path \"_id\" for model \"Rental\"Cast to ObjectId failed for value \"\" at path \"_id\" for model \"Rental\"","name":"CastError","stringValue":"\"\"","kind":"ObjectId","value":"","path":"_id","level":"error","stack":"CastError: Cast to ObjectId failed for value \"\" at path \"_id\" for model \"Rental\"\n    at new CastError (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/mongoose/lib/error/cast.js:29:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/mongoose/lib/schema/objectid.js:242:11)\n    at ObjectId.Object.<anonymous>.SchemaType.applySetters (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/mongoose/lib/schematype.js:894:12)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/mongoose/lib/schematype.js:1297:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQuery (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/mongoose/lib/schematype.js:1287:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/mongoose/lib/schematype.js:1266:15)\n    at cast (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/mongoose/lib/cast.js:307:32)\n    at model.Query.Object.<anonymous>.Query.cast (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/mongoose/lib/query.js:4433:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/mongoose/lib/query.js:1762:10)\n    at model.Query.<anonymous> (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/mongoose/lib/query.js:2015:8)\n    at model.Query._wrappedThunk [as _findOne] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)\n    at process.nextTick (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/kareem/index.js:369:33)\n    at _combinedTickCallback (internal/process/next_tick.js:132:7)\n    at process._tickCallback (internal/process/next_tick.js:181:9)"}
{"message":"Cast to ObjectId failed for value \"\" at path \"_id\" for model \"Rental\"Cast to ObjectId failed for value \"\" at path \"_id\" for model \"Rental\"","name":"CastError","stringValue":"\"\"","kind":"ObjectId","value":"","path":"_id","level":"error","stack":"CastError: Cast to ObjectId failed for value \"\" at path \"_id\" for model \"Rental\"\n    at new CastError (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/mongoose/lib/error/cast.js:29:11)\n    at ObjectId.Object.<anonymous>.ObjectId.cast (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/mongoose/lib/schema/objectid.js:242:11)\n    at ObjectId.Object.<anonymous>.SchemaType.applySetters (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/mongoose/lib/schematype.js:894:12)\n    at ObjectId.Object.<anonymous>.SchemaType._castForQuery (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/mongoose/lib/schematype.js:1297:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQuery (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/mongoose/lib/schematype.js:1287:15)\n    at ObjectId.Object.<anonymous>.SchemaType.castForQueryWrapper (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/mongoose/lib/schematype.js:1266:15)\n    at cast (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/mongoose/lib/cast.js:307:32)\n    at model.Query.Object.<anonymous>.Query.cast (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/mongoose/lib/query.js:4433:12)\n    at model.Query.Object.<anonymous>.Query._castConditions (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/mongoose/lib/query.js:1762:10)\n    at model.Query.<anonymous> (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/mongoose/lib/query.js:2015:8)\n    at model.Query._wrappedThunk [as _findOne] (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)\n    at process.nextTick (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/kareem/index.js:369:33)\n    at _combinedTickCallback (internal/process/next_tick.js:132:7)\n    at process._tickCallback (internal/process/next_tick.js:181:9)"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"rental.return is not a functionrental.return is not a function","stack":"TypeError: rental.return is not a function\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:23:3)\n    at <anonymous>"}
{"level":"error","message":"rental.return is not a functionrental.return is not a function","stack":"TypeError: rental.return is not a function\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:23:3)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"rental.return is not a functionrental.return is not a function","stack":"TypeError: rental.return is not a function\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:23:3)\n    at <anonymous>"}
{"level":"error","message":"rental.return is not a functionrental.return is not a function","stack":"TypeError: rental.return is not a function\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:23:3)\n    at <anonymous>"}
{"level":"error","message":"rental.return is not a functionrental.return is not a function","stack":"TypeError: rental.return is not a function\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:23:3)\n    at <anonymous>"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"moment is not definedmoment is not defined","stack":"ReferenceError: moment is not defined\n    at model.Object.<anonymous>.rentalSchema.methods.return (/home/vladimir/workspace/javascript/node-js/vidly-express/models/rental.js:55:19)\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:23:9)\n    at <anonymous>"}
{"level":"error","message":"moment is not definedmoment is not defined","stack":"ReferenceError: moment is not defined\n    at model.Object.<anonymous>.rentalSchema.methods.return (/home/vladimir/workspace/javascript/node-js/vidly-express/models/rental.js:55:19)\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:23:9)\n    at <anonymous>"}
{"level":"error","message":"moment is not definedmoment is not defined","stack":"ReferenceError: moment is not defined\n    at model.Object.<anonymous>.rentalSchema.methods.return (/home/vladimir/workspace/javascript/node-js/vidly-express/models/rental.js:55:19)\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:23:9)\n    at <anonymous>"}
{"level":"error","message":"moment is not definedmoment is not defined","stack":"ReferenceError: moment is not defined\n    at model.Object.<anonymous>.rentalSchema.methods.return (/home/vladimir/workspace/javascript/node-js/vidly-express/models/rental.js:55:19)\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:23:9)\n    at <anonymous>"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"level":"error","message":"moment is not definedmoment is not defined","stack":"ReferenceError: moment is not defined\n    at model.Object.<anonymous>.rentalSchema.methods.return (/home/vladimir/workspace/javascript/node-js/vidly-express/models/rental.js:55:19)\n    at Object.<anonymous>.router.post (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/returns.js:23:9)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"message":"Connected to mongodb://localhost/vidly_test...","level":"info"}
{"name":"JsonWebTokenError","message":"jwt malformed","level":"error"}
{"level":"error","message":"Can't set headers after they are sent.Can't set headers after they are sent.","stack":"Error: Can't set headers after they are sent.\n    at validateHeader (_http_outgoing.js:491:11)\n    at ServerResponse.setHeader (_http_outgoing.js:498:3)\n    at ServerResponse.header (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:767:10)\n    at ServerResponse.send (/home/vladimir/workspace/javascript/node-js/vidly-express/node_modules/express/lib/response.js:170:12)\n    at send (/home/vladimir/workspace/javascript/node-js/vidly-express/routes/genres.js:52:7)\n    at <anonymous>"}
